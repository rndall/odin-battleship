(()=>{"use strict";var n={8:n=>{var e={};n.exports=function(n,r){var t=function(n){if(void 0===e[n]){var r=document.querySelector(n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(n){r=null}e[n]=r}return e[n]}(n);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},75:n=>{n.exports=function(n){var e=n[1],r=n[3];if(!r)return e;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},244:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(r){!function(n,e,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,o&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(t,n,e.options)}(e,n,r)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},283:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},335:(n,e,r)=>{n.exports=function(n){var e=r.nc;e&&n.setAttribute("nonce",e)}},432:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},633:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var r="",t=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),t&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=n(e),t&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(n,r,t,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var s={};if(t)for(var i=0;i<this.length;i++){var A=this[i][0];null!=A&&(s[A]=!0)}for(var d=0;d<n.length;d++){var c=[].concat(n[d]);t&&s[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},655:n=>{var e=[];function r(n){for(var r=-1,t=0;t<e.length;t++)if(e[t].identifier===n){r=t;break}return r}function t(n,t){for(var a={},s=[],i=0;i<n.length;i++){var A=n[i],d=t.base?A[0]+t.base:A[0],c=a[d]||0,l="".concat(d," ").concat(c);a[d]=c+1;var u=r(l),p={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var h=o(p,t);t.byIndex=i,e.splice(i,0,{identifier:l,updater:h,references:1})}s.push(l)}return s}function o(n,e){var r=e.domAPI(e);return r.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;r.update(n=e)}else r.remove()}}n.exports=function(n,o){var a=t(n=n||[],o=o||{});return function(n){n=n||[];for(var s=0;s<a.length;s++){var i=r(a[s]);e[i].references--}for(var A=t(n,o),d=0;d<a.length;d++){var c=r(a[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=A}}},689:(n,e,r)=>{r.d(e,{A:()=>i});var t=r(75),o=r.n(t),a=r(633),s=r.n(a)()(o());s.push([n.id,"/*\n  Josh's Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n","",{version:3,sources:["webpack://./src/css/reset.css"],names:[],mappings:"AAAA;;;CAGC;;AAED;;;EAGE,sBAAsB;AACxB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE;IACE,gCAAgC;EAClC;AACF;;AAEA;EACE,gBAAgB;EAChB,mCAAmC;AACrC;;AAEA;;;;;EAKE,cAAc;EACd,eAAe;AACjB;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;;;;;;EAOE,yBAAyB;AAC3B;;AAEA;EACE,iBAAiB;AACnB;AACA;;;;;;EAME,kBAAkB;AACpB;;AAEA;;EAEE,kBAAkB;AACpB",sourcesContent:["/*\n  Josh's Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n"],sourceRoot:""}]);const i=s},871:(n,e,r)=>{r.d(e,{A:()=>i});var t=r(75),o=r.n(t),a=r(633),s=r.n(a)()(o());s.push([n.id,":root {\n  --red-pantone: #e63946ff;\n  --honeydew: #f1faeeff;\n  --honeydew-hover: #d8e4d7;\n  --non-photo-blue: #a8dadcff;\n  --cerulean: #457b9dff;\n  --berkeley-blue: #1d3557ff;\n}\n\nbody {\n  font-family: system-ui, sans-serif;\n  background-color: var(--non-photo-blue);\n  min-height: 100vh;\n  text-align: center;\n}\n\nheader {\n  padding-block: 2rem;\n}\n\n.winner {\n  height: 42px;\n  margin-block: 2rem;\n  font-size: 1.75rem;\n}\n\n.game-results--hidden {\n  visibility: hidden;\n}\n\n.boards {\n  display: flex;\n  justify-content: center;\n  gap: 8rem;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(11, 50px);\n  grid-template-rows: repeat(11, 50px);\n  gap: 4px;\n}\n\n.board__squares {\n  display: grid;\n  grid-template-columns: repeat(10, min-content);\n  grid-area: 2 / 2 / -1 / -1;\n  gap: 4px;\n}\n\n.alpha-coordinates {\n  grid-column: 2 / -1;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  align-items: center;\n}\n\n.num-coordinates {\n  grid-row: 2 / -1;\n  display: grid;\n  align-items: center;\n}\n\n.board__square {\n  width: 50px;\n  aspect-ratio: 1;\n  border: 1px solid var(--berkeley-blue);\n  border-radius: 0.25rem;\n}\n\n.board__square--ship {\n  background-color: var(--cerulean);\n}\n\n.board__square--opponent {\n  cursor: pointer;\n}\n\n.board__square--opponent:hover {\n  border: 2px solid var(--red-pantone);\n}\n\n.board__square--attack {\n  border: 1px solid var(--berkeley-blue) !important;\n  background-color: var(--red-pantone);\n  cursor: not-allowed;\n}\n\n.board__square--miss {\n  border: 1px solid var(--berkeley-blue) !important;\n  background-color: var(--honeydew);\n  cursor: not-allowed;\n}\n\n.board > p {\n  grid-column: 2 / -1;\n  margin-block: 1rem;\n}\n\n.board > .btn {\n  grid-column: 2 / -1;\n  margin-inline: auto;\n}\n\n.btn {\n  background-color: var(--honeydew);\n  border: none;\n  padding: 8px 24px;\n  border-radius: 99999px;\n}\n\n.btn:hover {\n  background-color: var(--honeydew-hover);\n  cursor: pointer;\n}\n\n.btn--hidden {\n  visibility: hidden;\n}\n","",{version:3,sources:["webpack://./src/css/style.css"],names:[],mappings:"AAAA;EACE,wBAAwB;EACxB,qBAAqB;EACrB,yBAAyB;EACzB,2BAA2B;EAC3B,qBAAqB;EACrB,0BAA0B;AAC5B;;AAEA;EACE,kCAAkC;EAClC,uCAAuC;EACvC,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,aAAa;EACb,uCAAuC;EACvC,oCAAoC;EACpC,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,8CAA8C;EAC9C,0BAA0B;EAC1B,QAAQ;AACV;;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,sCAAsC;EACtC,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,eAAe;EACf,sCAAsC;EACtC,sBAAsB;AACxB;;AAEA;EACE,iCAAiC;AACnC;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,oCAAoC;AACtC;;AAEA;EACE,iDAAiD;EACjD,oCAAoC;EACpC,mBAAmB;AACrB;;AAEA;EACE,iDAAiD;EACjD,iCAAiC;EACjC,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,iCAAiC;EACjC,YAAY;EACZ,iBAAiB;EACjB,sBAAsB;AACxB;;AAEA;EACE,uCAAuC;EACvC,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB",sourcesContent:[":root {\n  --red-pantone: #e63946ff;\n  --honeydew: #f1faeeff;\n  --honeydew-hover: #d8e4d7;\n  --non-photo-blue: #a8dadcff;\n  --cerulean: #457b9dff;\n  --berkeley-blue: #1d3557ff;\n}\n\nbody {\n  font-family: system-ui, sans-serif;\n  background-color: var(--non-photo-blue);\n  min-height: 100vh;\n  text-align: center;\n}\n\nheader {\n  padding-block: 2rem;\n}\n\n.winner {\n  height: 42px;\n  margin-block: 2rem;\n  font-size: 1.75rem;\n}\n\n.game-results--hidden {\n  visibility: hidden;\n}\n\n.boards {\n  display: flex;\n  justify-content: center;\n  gap: 8rem;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(11, 50px);\n  grid-template-rows: repeat(11, 50px);\n  gap: 4px;\n}\n\n.board__squares {\n  display: grid;\n  grid-template-columns: repeat(10, min-content);\n  grid-area: 2 / 2 / -1 / -1;\n  gap: 4px;\n}\n\n.alpha-coordinates {\n  grid-column: 2 / -1;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  align-items: center;\n}\n\n.num-coordinates {\n  grid-row: 2 / -1;\n  display: grid;\n  align-items: center;\n}\n\n.board__square {\n  width: 50px;\n  aspect-ratio: 1;\n  border: 1px solid var(--berkeley-blue);\n  border-radius: 0.25rem;\n}\n\n.board__square--ship {\n  background-color: var(--cerulean);\n}\n\n.board__square--opponent {\n  cursor: pointer;\n}\n\n.board__square--opponent:hover {\n  border: 2px solid var(--red-pantone);\n}\n\n.board__square--attack {\n  border: 1px solid var(--berkeley-blue) !important;\n  background-color: var(--red-pantone);\n  cursor: not-allowed;\n}\n\n.board__square--miss {\n  border: 1px solid var(--berkeley-blue) !important;\n  background-color: var(--honeydew);\n  cursor: not-allowed;\n}\n\n.board > p {\n  grid-column: 2 / -1;\n  margin-block: 1rem;\n}\n\n.board > .btn {\n  grid-column: 2 / -1;\n  margin-inline: auto;\n}\n\n.btn {\n  background-color: var(--honeydew);\n  border: none;\n  padding: 8px 24px;\n  border-radius: 99999px;\n}\n\n.btn:hover {\n  background-color: var(--honeydew-hover);\n  cursor: pointer;\n}\n\n.btn--hidden {\n  visibility: hidden;\n}\n"],sourceRoot:""}]);const i=s}},e={};function r(t){var o=e[t];if(void 0!==o)return o.exports;var a=e[t]={id:t,exports:{}};return n[t](a,a.exports,r),a.exports}r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r.nc=void 0;var t=r(655),o=r.n(t),a=r(244),s=r.n(a),i=r(8),A=r.n(i),d=r(335),c=r.n(d),l=r(283),u=r.n(l),p=r(432),h=r.n(p),b=r(689),m={};m.styleTagTransform=h(),m.setAttributes=c(),m.insert=A().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=u(),o()(b.A,m),b.A&&b.A.locals&&b.A.locals;var C=r(871),f={};f.styleTagTransform=h(),f.setAttributes=c(),f.insert=A().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=u(),o()(C.A,f),C.A&&C.A.locals&&C.A.locals;class E{constructor(){this.board=Array(10).fill().map((()=>Array(10).fill(null))),this.missedAttacks=[],this.receivedAttacks=[],this.ships=[]}placeShip(n,e,r,t){let o=n.length;const a=new Error("Cannot place ship outside the grid boundaries."),s=new Error("A ship is already placed here.");let i;if("vertical"===t){if(i=Array.from({length:n.length},((n,e)=>e+r)),o+=r,o>10)throw a;for(let n=r;n<o;n++)if(this.board[n][e])throw s;for(const r of i)this.board[r][e]=n}else if("horizontal"===t){if(i=Array.from({length:n.length},((n,r)=>r+e)),o+=e,o>10)throw a;for(let n=e;n<o;n++)if(this.board[r][n])throw s;for(const e of i)this.board[r][e]=n}this.ships.push(n)}receiveAttack(n,e){const r=this.board[e][n];if(this.receivedAttacks.push([n,e]),r)return r.hit(),!0;this.missedAttacks.push([n,e])}areAllShipsSunk(){return this.ships.every((n=>n.isSunk()))}}class g{constructor(n){this.type=n,this.board=new E}}class v{constructor(n){this.length=n,this.hitCount=0,this.sunk=!1}hit(){this.hitCount+=1,this.isSunk()}isSunk(){return this.hitCount>=this.length&&(this.sunk=!0),this.sunk}}const y=document.querySelectorAll(".board__squares");document.querySelector(".board--opponent").addEventListener("click",(n=>{const e=n.target;!e.classList.contains("board__square")||e.classList.length>2||T()===L||Y()||R(e.dataset.x,e.dataset.y,e)||J()}));const B=document.querySelector(".game-results"),k=document.querySelector(".winner"),w=()=>{const n=Y();n&&(k.textContent="real"===n.type?"You win!":"You lost.",B.classList.remove("game-results--hidden"))};document.querySelector("#play-again").addEventListener("click",(()=>{B.classList.add("game-results--hidden"),P(),S()}));const x=document.querySelector(".board--player .board__squares"),_=(n,e,r)=>{const t=x.children[10*e+n];if(r)return t.classList.add("board__square--attack"),void J();t.classList.add("board__square--miss"),z()},q=document.querySelector("#randomize");q.addEventListener("click",(()=>P()));const S=()=>q.classList.remove("btn--hidden"),j=new g("real"),L=new g("computer");let M=j;const T=()=>M,z=()=>{M=M===j?L:j,I=I===j?L:j};let I=L;const D=()=>{const[n,e]=N();return{x:n,y:e,orientation:1===Math.floor(2*Math.random())?"vertical":"horizontal"}},O=n=>{const e=[2,3,3,4,5];for(const r of e){const e=new v(r);for(;;)try{const{x:r,y:t,orientation:o}=D();n.board.placeShip(e,r,t,o);break}catch(n){console.error(n)}}},R=(n,e,r)=>{q.classList.add("btn--hidden");const t=L.board.receiveAttack(n,e);return w(),((n,e)=>{if(n)return e.classList.add("board__square--attack"),!0;e.classList.add("board__square--miss"),z()})(t,r)},N=()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],J=()=>{setTimeout((()=>{let n;if(Y())return void w();do{n=N()}while(j.board.receivedAttacks.some((e=>JSON.stringify(e)===JSON.stringify(n))));const[e,r]=n,t=j.board.receiveAttack(e,r);_(e,r,t)}),500)},Y=()=>{if(I.board.areAllShipsSunk())return M},P=()=>{M=j,I=L,M.board=new E,I.board=new E,O(j),O(L),(()=>{for(const[n,e]of y.entries()){e.textContent="";for(let r=0;r<10;r++)for(let t=0;t<10;t++){const o=document.createElement("div");o.classList.add("board__square"),1===n&&o.classList.add("board__square--opponent"),o.dataset.y=r,o.dataset.x=t,e.appendChild(o)}}})(),(()=>{for(let n=0;n<j.board.board.length;n++)for(let e=0;e<10;e++)j.board.board[n][e]&&y[0].children[10*n+e].classList.add("board__square--ship")})()};P()})();
//# sourceMappingURL=main.bundle.js.map